(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{"03ec":function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"d",(function(){return m}));a("4160"),a("a15b"),a("d81d"),a("a9e3"),a("b64b"),a("d3b7"),a("07ac"),a("4d63"),a("ac1f"),a("25f0"),a("5319"),a("159b"),a("96cf");var n=a("1da1"),i="https://static-cdn.jtvnw.net/emoticons/v1/{code}/3.0",o="https://badges.twitch.tv/v1/badges/global/display",s="https://badges.twitch.tv/v1/badges/channels/{channelId}/display",r="https://api.twitch.tv/v5/bits/actions",c=!1,l={total:null,channel:null},u={bits:null,regexp:null,amounts:null};function m(e){return p.apply(this,arguments)}function p(){return p=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.channelId,n=t.clientId,!(l.total&&l.channel&&u.bits||!a||c)){e.next=3;break}return e.abrupt("return");case 3:return c=!0,e.next=6,b();case 6:return e.next=8,g(a);case 8:return e.next=10,h(a,n);case 10:c=!1;case 11:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function h(e,t){return d.apply(this,arguments)}function d(){return d=Object(n["a"])(regeneratorRuntime.mark((function e(t,a){var n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!u.bits&&a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("".concat(r,"?channel_id=").concat(t),{headers:{"Client-ID":a,Accept:"application/vnd.twitchtv.v5+json"}});case 4:return n=e.sent,e.next=7,n.json();case 7:i=e.sent,o=i&&T(i.actions),o&&(u.bits=o,u.regexp=new RegExp("(?<=^|\\s)("+Object.keys(o).join("|")+")(\\d+)(?=\\s|$)","g"),u.amounts=Object.keys(Object.values(o)[0]).map((function(e){return Number(e)})));case 10:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function b(){return f.apply(this,arguments)}function f(){return f=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!l.total){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch(o);case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,l.total=a&&a.badge_sets;case 9:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function g(e){return v.apply(this,arguments)}function v(){return v=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!l.channel){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch(s.replace("{channelId}",t));case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,l.channel=n&&n.badge_sets;case 9:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function T(e){var t={};return e.forEach((function(e){var a=t[e.prefix]={};e.tiers.forEach((function(e){a[e.min_bits]={color:e.color,image:e.images.light.animated[3]}}))})),t}},"05f3":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chat-info-item afreecatv-chat-item",class:{"is-self":e.isSelf,"is-manager":e.isManager}},[e.data.rawMessage.message?[a("div",{staticClass:"title"},[e.noChannelImage?e._e():a("div",{staticClass:"channel-img"},[a("i",{staticClass:"icon-channel",class:[e.data.livePlatform]})]),e.data._badges&&e.data._badges.length?a("div",{staticClass:"badge-img-box"},e._l(e.data._badges,(function(e,t){return a("img",{key:t,staticClass:"badge-img",attrs:{src:e,alt:""}})})),0):e._e(),a("div",{staticClass:"author-name"},[e._v(e._s(e.data._displayName))])]),a("div",{staticClass:"message",domProps:{innerHTML:e._s(e.data._message)}}),a("div",{staticClass:"chat-sup"},[e._v(e._s(e.data.timeago))])]:a("div",{staticClass:"notice"},[e._v(e._s(e.data._notice))])],2)},i=[],o={name:"templateAfreecaTV",props:{data:{type:Object,default:function(){return{}}},noChannelImage:Boolean},computed:{isSelf:function(){return this.data._isSelf&&this.data.rawMessage.message},isManager:function(){return this.data._isManager&&this.data.rawMessage.message}}},s=o,r=(a("1e92"),a("2877")),c=Object(r["a"])(s,n,i,!1,null,null,null);t["a"]=c.exports},"0900":function(e,t,a){},"1b42":function(e,t,a){"use strict";var n=a("0900"),i=a.n(n);i.a},"1e92":function(e,t,a){"use strict";var n=a("a706"),i=a.n(n);i.a},"21af":function(e,t,a){},"23e2":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chat-info-item",class:{"is-self":e.data._isSelf,"is-manager":!e.data._isSelf&&e.data._isManager}},[a("div",{staticClass:"title"},[e.noChannelImage?e._e():a("div",{staticClass:"channel-img"},[a("i",{staticClass:"icon-channel",class:[e.data.livePlatform]})]),e.badges?a("div",{staticClass:"badge-img-box medium"},e._l(e.badges,(function(e,t){return a("img",{key:t,staticClass:"badge-img",attrs:{src:e,alt:""}})})),0):e._e(),a("div",{staticClass:"author-name"},[e._v(e._s(e.data.author.displayName))])]),e.isTwitch?a("twitch-message",{attrs:{data:e.data}}):e.isFacebook?a("FacebookMessage",{attrs:{data:e.data}}):a("div",{staticClass:"message"},[e._v(e._s(e.data.message))]),a("div",{staticClass:"chat-sup"},[e._v(e._s(e.data.timeago))]),a("div",{staticClass:"chat-btns"},[e.data._isSelf&&e.isPlatformChatCanDeleted(e.data.livePlatform)?a("btn-close",{staticClass:"chat-btn-close",attrs:{"is-small":""},on:{click:e.handleDelete}}):e._e()],1)],1)},i=[],o=(a("4160"),a("caad"),a("ac1f"),a("2532"),a("1276"),a("159b"),a("3835")),s=a("de36"),r=a("03ec"),c=a("4d06"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"message"},[e._l(e.message,(function(t,n){return[t.type===e.MARK.TEXT?a("span",{key:n},[e._v(e._s(t.data))]):t.type===e.MARK.AMOUNT?a("span",{key:n,staticClass:"twitch-bits-amount",style:{color:t.color}},[e._v(e._s(t.data))]):t.type===e.MARK.EMOTICON?a("img",{key:n,staticClass:"twitch-emoticon",attrs:{src:e.handleTwitchEmoticonUrl(t.data),alt:""}}):t.type===e.MARK.BIT?a("img",{key:n,staticClass:"twitch-bits-img",attrs:{src:t.url,alt:t.data}}):e._e()]}))],2)},u=[],m=(a("7db0"),a("fb6a"),a("a9e3"),a("466d"),a("5319"),a("5530")),p=a("15fd"),h={name:"template-twitch-chat",props:{data:{type:Object,default:function(){return{}}}},data:function(){return{bitsLibrary:r["b"],MARK:{TEXT:0,EMOTICON:1,AMOUNT:2,BIT:3}}},computed:{message:function(){var e=this.data.message,t=this.data.rawMessage.emotes,a=[],n=this.MARK;if(t&&t.split("/").forEach((function(e){var t=e.match(/^(\d+):([\s\S]*)$/);if(t){var i=t[2].split(",");i.forEach((function(e){var i=e.match(/(\d+)-(\d+)/);i&&a.push({type:n.EMOTICON,startIndex:Number(i[1]),endIndex:Number(i[2]),data:t[1]})}))}})),this.data.rawMessage.bits&&r["b"].bits){var i=r["b"].regexp.exec(e),s=function(){var t=i,s=Object(o["a"])(t,3),c=s[0],l=s[1],u=s[2],m=i.index+l.length-1,p=r["b"].amounts.find((function(e,t,a){return e<=u&&(t===a.length-1||a[t+1]>u)}));a.push({type:n.BIT,startIndex:i.index,endIndex:m,data:l,url:r["b"].bits[l][p].image}),a.push({type:n.AMOUNT,startIndex:m+1,endIndex:i.index+c.length-1,data:u,color:r["b"].bits[l][p].color}),i=r["b"].regexp.exec(e)};while(i)s()}if(a.length){var c=[],l=0;a.sort((function(e,t){return e.startIndex-t.startIndex})).forEach((function(t,a,i){var o=t.startIndex,s=t.endIndex,r=Object(p["a"])(t,["startIndex","endIndex"]);o>l&&c.push({type:n.TEXT,data:e.slice(l,o)}),c.push(Object(m["a"])({},r)),l=s+1,a===i.length-1&&l<=e.length-1&&c.push({type:n.TEXT,data:e.slice(l)})})),e=c}else e=[{type:n.TEXT,data:e}];return e}},methods:{handleTwitchEmoticonUrl:function(e){return r["c"].replace("{code}",e)}}},d=h,b=(a("f69e"),a("2877")),f=Object(b["a"])(d,l,u,!1,null,null,null),g=f.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"message"},[e.data.message?a("div",[e._v(e._s(e.data.message))]):e.attachment?a("div",["sticker"===e.attachment.type?a("div",{staticStyle:{width:"80px",height:"80px"}},[a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.attachment.url,alt:e.attachment.type}})]):"animated_image_share"===e.attachment.type?a("div",{staticStyle:{width:"80px",height:"80px"}},[e.attachment.media.source?a("video",{staticStyle:{width:"100%",height:"100%"},attrs:{loop:"",src:e.attachment.media.source,autoplay:""}}):a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.attachment.media.image.url}})]):e._e()]):e._e()])},T=[],C={name:"template-facebook-chat",props:{data:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{attachment:function(){return this.data.rawMessage&&this.data.rawMessage.attachment},isImage:function(){return!!this.attachment&&("animated_image_share"===this.attachment.type||"sticker"===this.attachment.type)}}},y=C,k=Object(b["a"])(y,v,T,!1,null,null,null),_=k.exports,O={name:"templateNormal",components:{BtnClose:c["a"],TwitchMessage:g,FacebookMessage:_},props:{data:{type:Object,default:function(){return{}}},noChannelImage:Boolean},data:function(){return{library:r["a"]}},computed:{isTwitch:function(){return this.data.livePlatform===s["CHANNEL"].TWITCH},isFacebook:function(){return this.data.livePlatform===s["CHANNEL"].FACEBOOK},badges:function(){var e=this,t=null;if(this.isTwitch){var a=this.data.rawMessage.badges;a&&this.library.total&&(t=[],a.split(",").forEach((function(a){var n=a.split("/"),i=Object(o["a"])(n,2),s=i[0],r=i[1];try{t.push(e.library.channel[s].versions[r].image_url_4x)}catch(c){try{t.push(e.library.total[s].versions[r].image_url_4x)}catch(l){console.error("can not find the picture of badge: ",s," (version ",r,")")}}})))}return t}},methods:{isPlatformChatCanDeleted:function(e){return s["CHAT_CAN_DELETED_PLATFORMS"].includes(e)},handleDelete:function(){this.$emit("handle-delete",this.data)}}},w=O,S=(a("3a80"),Object(b["a"])(w,n,i,!1,null,null,null));t["a"]=S.exports},2869:function(e,t,a){"use strict";a.d(t,"a",(function(){return P}));a("4de4"),a("4160"),a("caad"),a("d81d"),a("d3b7"),a("2532"),a("159b"),a("96cf");var n=a("1da1"),i=a("53ca"),o=a("5530"),s=a("d4ec"),r=a("bee2"),c=a("257e"),l=a("262e"),u=a("2caf"),m=a("ade3"),p=a("bc3a"),h=a.n(p),d=a("04ac"),b=a.n(d),f=h.a.create({crossDomain:!0,withCredentials:!0,timeout:5e3});b()(f,{retries:2,retryDelay:function(){return 2e3}}),f.interceptors.request.use((function(e){return e}),(function(e){return console.log(e),Promise.reject(e)})),f.interceptors.response.use((function(e){return e.data}),(function(e){throw e}));var g=f,v=(a("c975"),a("ac1f"),a("1276"),a("b383")),T=a.n(v),C=a("a78e"),y=a.n(C);function k(e){var t=~e.indexOf("?")||~e.indexOf("=")?e.split("?").pop():"";return T.a.parse(t)}function _(e,t){var a=k(e),n=T.a.stringify(Object(o["a"])({},a,{},t));return(e.split("?").shift()||"")+(n?"?"+n:"")}function O(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return window.setCookie=O,y.a.set(e,t,a)}var w=a("ba10"),S=a.n(w),x=a("52d2"),j=a.n(x),E=50,N=3e3,I=!1,A=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(e){var n;return Object(s["a"])(this,a),n=t.call(this),Object(m["a"])(Object(c["a"])(n),"options",{URI:"",GLOBAL_URI:"",HMAC_SALT:""}),n.setOption(e),n}return Object(r["a"])(a,[{key:"setOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=Object(o["a"])({},this.options,{},e)}},{key:"getOption",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a={};return t.forEach((function(t){"undefined"!==typeof e.options[t]&&(a[t]=e.options[t])})),a}},{key:"addUrlHmacsha",value:function(e){var t=e.url,a=e.params,n=void 0===a?{}:a,i=(e.type,e.now),s=void 0===i?Date.now():i;if(!t)throw new Error("addRequestKeys error from no have url");var r=this.options.GLOBAL_URI||this.options.URI,c=r+t;c=_(c,n);var l=this.hmac(c+s);return t=_(t,Object(o["a"])({},n,{msgpad:s,md:l})),I&&(r=""),r+t}},{key:"hmac",value:function(e,t){return j()(t||this.options.HMAC_SALT,e)}},{key:"getList",value:function(){}},{key:"getOlderComment",value:function(){}},{key:"sendComment",value:function(){}},{key:"repComment",value:function(){}},{key:"delComment",value:function(){}}]),a}(S.a),L=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(e){var n;return Object(s["a"])(this,a),n=t.call(this,e),Object(m["a"])(Object(c["a"])(n),"lastCommentNo",0),Object(m["a"])(Object(c["a"])(n),"disableNos",[]),n.setOption(Object(o["a"])({groupId:"",lang:"",objectId:"",commentNo:"",objectUrl:"",ticket:"",templateId:"",userType:"",NID_SES:"",nid_inf:"",NID_AUT:"",pageSize:E},e)),n.event=new S.a,n}return Object(r["a"])(a,[{key:"setAuth",value:function(){console.log("setCookie",this.options.NID_SES),O("NID_SES",this.options.NID_SES),O("nid_inf",this.options.nid_inf),O("NID_AUT",this.options.NID_AUT)}},{key:"getList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.page,n=void 0===a?1:a,i=t.pageSize,s=void 0===i?this.options.pageSize:i;n=Math.max(n,1);var r=this.addUrlHmacsha({url:"/prism/cbox/v2_neo_list_advanced_json.json",params:Object(o["a"])({page:n,pageSize:s},this.getOption(["lang","objectId","groupId","templateId","ticket","userType"]))});return new Promise((function(t,a){g.get(r).then((function(n){if(n.success){var i=n.result.commentList||[],o=i[0]?i[0].commentNo:null;o>e.lastCommentNo&&(e.lastCommentNo=o),t(n.result)}else a(n)})).catch(a)}))}},{key:"getOlderComment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.pageSize;if(!e)throw new Error("rep comment no commentNO");var a=this.addUrlHmacsha({url:"/prism/cbox/v2_neo_next_list_json.json",params:Object(o["a"])({pageSize:t||this.options.pageSize,commentNo:e},this.getOption(["groupId","lang","objectId","templateId","ticket","userType"]))});return new Promise((function(e,t){g.get(a).then((function(a){a.success?e(a.result&&a.result.commentList||[]):t(a)})).catch(t)}))}},{key:"sendComment",value:function(e){var t=this,a=e.commentType,n=void 0===a?"txt":a,i=e.contents,s=void 0===i?"":i;e.extension;if(s){var r=Object(o["a"])({commentType:n,contents:s},this.getOption(["lang","ticket","objectId","userType","groupId","templateId","objectUrl"])),c=this.addUrlHmacsha({url:"/prism/cbox/v2_naver_create_json.json"});return new Promise((function(e,a){t.setAuth(),g.post(c,T.a.stringify(r)).then((function(n){if(n.success){var i=n.result.commentList.filter((function(e){var a=e.commentNo>t.lastCommentNo&&!t.disableNos.includes(e.commentNo);return a&&t.disableNos.push(e.commentNo),a}));e(i)}else a(n)})).catch(a)}))}}},{key:"repComment",value:function(e){var t=this;if(!e)throw new Error("rep comment no commentNO");var a=Object(o["a"])({},this.getOption(["lang","ticket","objectId","userType","groupId","templateId"]),{commentNo:e}),n=this.addUrlHmacsha({url:"/prism/cbox/v2_naver_report_json.json"});return new Promise((function(e,i){t.setAuth(),g.post(n,T.a.stringify(a)).then((function(t){"5001"===t.code||"5002"===t.code||t.success?e(t):i(t)})).catch(i)}))}},{key:"delComment",value:function(e){var t=this;if(!e)throw new Error("Del comment params wrong");var a=Object(o["a"])({},this.getOption(["lang","ticket","objectId","templateId","userType","groupId"]),{commentNo:e}),n=this.addUrlHmacsha({url:"/prism/cbox/v2_naver_delete_json.json"});return new Promise((function(e,i){t.setAuth(),g.post(n,T.a.stringify(a)).then((function(t){t.success?e(t.result):i(t)})).catch(i)}))}}]),a}(A),M=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(e){var n;return Object(s["a"])(this,a),n=t.call(this,e),Object(m["a"])(Object(c["a"])(n),"lastCommentNo",0),Object(m["a"])(Object(c["a"])(n),"disableNos",[]),n.setOption(Object(o["a"])({gcc:"",lang:"",ticket:"",templateId:"",objectUrl:"",snsCode:"",pool:"",objectId:"",commentNo:"",extension:{},version:1,pageSize:E,consumerKey:"",Authorization:""},e)),n.event=new S.a,n}return Object(r["a"])(a,[{key:"getHeader",value:function(){return this.getOption(["consumerKey","Authorization"])}},{key:"getList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.page,n=void 0===a?1:a,i=t.pageSize,s=void 0===i?this.options.pageSize:i;n=Math.max(n,1);var r=this.addUrlHmacsha({url:"/globalV2/cbox/v2_neo_list_advanced_json.json",params:Object(o["a"])({page:n,pageSize:s},this.getOption(["gcc","lang","objectId","pool","templateId","ticket","version"]))});return new Promise((function(t,a){g.get(r).then((function(n){if(n.success){var i=n.result.commentList||[],o=i[0]?i[0].commentNo:null;o>e.lastCommentNo&&(e.lastCommentNo=o),t(n.result)}else a(n)})).catch(a)}))}},{key:"getOlderComment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.pageSize;if(!e)throw new Error("rep comment no commentNO");var a=this.addUrlHmacsha({url:"/globalV2/cbox/v2_neo_next_list_json.json",params:Object(o["a"])({pageSize:t||this.options.pageSize,commentNo:e},this.getOption(["gcc","lang","objectId","pool","templateId","ticket","version"]))});return new Promise((function(e,t){g.get(a).then((function(a){a.success?e(a.result&&a.result.commentList||[]):t(a)})).catch(t)}))}},{key:"sendComment",value:function(e){var t=this,a=e.commentType,n=void 0===a?"txt":a,s=e.contents,r=void 0===s?"":s,c=e.extension,l=void 0===c?this.options.extension:c;if(r){"object"===Object(i["a"])(l)&&(l=JSON.stringify(l));var u=Object(o["a"])({commentType:n,contents:r,extension:encodeURIComponent(l)},this.getOption(["lang","ticket","objectId","snsCode","objectUrl","templateId"])),m=this.addUrlHmacsha({url:"/globalV2/cbox/v2_neo_create_json.json?pool="+this.options.pool});return new Promise((function(e,a){g.post(m,T.a.stringify(u),{headers:t.getHeader()}).then((function(n){if(n.success){var i=n.result.commentList.filter((function(e){var a=e.commentNo>t.lastCommentNo&&!t.disableNos.includes(e.commentNo);return a&&t.disableNos.push(e.commentNo),a}));e(i)}else a(n)})).catch(a)}))}}},{key:"repComment",value:function(e){var t=this;if(!e)throw new Error("rep comment no commentNO");var a=Object(o["a"])({commentNo:e},this.getOption(["lang","ticket","objectId","templateId"])),n=this.addUrlHmacsha({url:"/globalV2/cbox/v2_neo_report_json.json?pool="+this.options.pool});return new Promise((function(e,i){g.post(n,T.a.stringify(a),{headers:t.getHeader()}).then((function(t){var a="5002"===t.code?new Error("自己的评论不能删除"):t;t.success?e(t.result):i(a)})).catch(i)}))}},{key:"delComment",value:function(e){var t=this;if(!e)throw new Error("Del comment params wrong");var a=Object(o["a"])({},this.getOption(["lang","ticket","objectId","templateId"]),{commentNo:e}),n=this.addUrlHmacsha({url:"/globalV2/cbox/v2_neo_delete_json.json?pool="+this.options.pool});return new Promise((function(e,i){g.post(n,T.a.stringify(a),{headers:t.getHeader()}).then((function(t){t.success?e(t.result):i(t)})).catch(i)}))}}]),a}(A),P=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(e){var n;if(Object(s["a"])(this,a),n=t.call(this,e),Object(m["a"])(Object(c["a"])(n),"request",null),Object(m["a"])(Object(c["a"])(n),"eventNames",["NEW_COMMENTS"]),Object(m["a"])(Object(c["a"])(n),"timer",0),Object(m["a"])(Object(c["a"])(n),"pollTime",N),Object(m["a"])(Object(c["a"])(n),"isPolling",!1),Object(m["a"])(Object(c["a"])(n),"storageBar",{total:0,index:null,commentNo:null,totalPages:null}),!e.objectId)throw new Error("objectId is not empty");if(n.pollTime=e.pollTime||n.pollTime,"VLIVE"===e.type)n.request=new M(e);else{if("NAVERTV"!==e.type)throw new Error("type is not support");n.request=new L(e)}return n}return Object(r["a"])(a,[{key:"setOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.request.setOption(e)}},{key:"start",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.stop(),this.isPolling=!0,e.abrupt("return",this.polling(!0));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"stop",value:function(){this.isPolling=!1,this.request.disableNos=[],clearTimeout(this.timer)}},{key:"dispatchNewList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"last";t.length&&(t=t.filter((function(t){return t.commentNo>e.storageBar.commentNo&&!e.request.disableNos.includes(t.commentNo)})),t.length&&(this.storageBar.commentNo=t[0].commentNo,this.emit("NEW_COMMENTS",{type:a,list:t})))}},{key:"updateComments",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"next",e.next=3,this.request.getList({page:t.totalPages-this.storageBar.index});case 3:if(a=e.sent,n=a.pageModel,i=a.commentList,t.totalPages===n.totalPages){e.next=10;break}return e.abrupt("return",this.updateComments(n));case 10:return this.dispatchNewList(i,"next"),this.storageBar.totalPages=n.totalPages,this.storageBar.index++,e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"polling",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,n,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.request.getList();case 3:if(t=e.sent,a=t.pageModel,n=t.commentList,i=void 0===n?[]:n,this.storageBar.commentNo){e.next=13;break}this.storageBar.index=a.totalPages-a.page,this.storageBar.totalPages=a.totalPages,this.dispatchNewList(i,"last"),e.next=21;break;case 13:if(a.totalPages!==this.storageBar.totalPages){e.next=17;break}this.dispatchNewList(i,"next"),e.next=21;break;case 17:if(!i.length||i[0].commentNo===this.storageBar.commentNo){e.next=21;break}return e.next=20,this.updateComments(a);case 20:i=e.sent;case 21:e.next=27;break;case 23:return e.prev=23,e.t0=e["catch"](0),setTimeout((function(){o.polling()}),N),e.abrupt("return");case 27:clearTimeout(this.timer),this.isPolling&&(this.timer=setTimeout((function(){return o.polling()}),this.pollTime));case 29:case"end":return e.stop()}}),e,this,[[0,23]])})));function t(){return e.apply(this,arguments)}return t}()}]),a}(S.a)},"2f14":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("4160"),a("159b"),a("53ca");function n(e){return"string"===typeof e&&(e=JSON.parse(e)),e}},"3a80":function(e,t,a){"use strict";var n=a("d9a4"),i=a.n(n);i.a},"4d06":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"prism-btn-close",class:{"is-small":e.isSmall},on:{click:function(t){return e.$emit("click")}}})},i=[],o={name:"prismBtnClose",props:{isSmall:{type:Boolean,default:!1}}},s=o,r=(a("1b42"),a("2877")),c=Object(r["a"])(s,n,i,!1,null,null,null);t["a"]=c.exports},"58d1":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return r}));a("d3b7"),a("ac1f"),a("3ca3"),a("841c"),a("ddb0"),a("2b3d");var n,i=a("de36").DEFAULT_LANG,o=i;try{var s=new URLSearchParams(document.location.search).get("lang");s=s.toLocaleLowerCase(),n=a("5a82")("./".concat(s,".json")),o=s}catch(c){n=a("5a82")("./".concat(o,".json"))}function r(e){e.prototype.$lang=o,e.prototype.$i18n=n}},5991:function(e,t,a){"use strict";a("99af"),a("b64b"),a("07ac"),a("4d63"),a("ac1f"),a("25f0"),a("5319");var n=a("de36"),i=a("2f14"),o=(a("a15b"),a("d81d"),{"/샤방/":{pc:1,mobile:1001},"/윽/":{pc:2,mobile:203},"/휘파람/":{pc:3,mobile:1404},"/짜증/":{pc:4,mobile:1101},"/헉/":{pc:5,mobile:601},"/하이/":{pc:6,mobile:1201},"/개좋아/":{pc:7,mobile:1403},"/개도발/":{pc:8,mobile:304},"/개털림/":{pc:9,mobile:603},"/개감상/":{pc:10,mobile:702},"/개화나/":{pc:11,mobile:102},"/개이득/":{pc:12,mobile:701},"/개번쩍/":{pc:13,mobile:1203},"/짱좋아/":{pc:94,mobile:1409},"/피식/":{pc:95,mobile:309},"/헐/":{pc:96,mobile:605},"/감상중/":{pc:97,mobile:704},"/화나/":{pc:98,mobile:106},"/하하/":{pc:99,mobile:703},"/ㅠㅠ/":{pc:100,mobile:508},"/주작/":{pc:14,mobile:1701},"/꿀잼/":{pc:15,mobile:802},"/업/":{pc:16,mobile:1305},"/갑/":{pc:17,mobile:1306},"/묻/":{pc:18,mobile:901},"/심쿵/":{pc:19,mobile:1004},"/스겜/":{pc:20,mobile:902},"/추천/":{pc:21,mobile:803},"/인정/":{pc:22,mobile:804},"/사이다/":{pc:23,mobile:1407},"/더럽/":{pc:24,mobile:407},"/극혐/":{pc:25,mobile:103},"/매너챗/":{pc:26,mobile:903},"/강퇴/":{pc:27,mobile:105},"/드루와/":{pc:28,mobile:904},"/아잉/":{pc:29,mobile:404},"/기겁/":{pc:30,mobile:602},"/우울/":{pc:31,mobile:504},"/쳇/":{pc:32,mobile:1103},"/ㅋㅋ/":{pc:33,mobile:1402},"/졸려/":{pc:34,mobile:1502},"/최고/":{pc:35,mobile:1303},"/엉엉/":{pc:36,mobile:505},"/후훗/":{pc:37,mobile:1405},"/부끄/":{pc:38,mobile:1002},"/제발/":{pc:39,mobile:1003},"/덜덜/":{pc:40,mobile:303},"/좋아/":{pc:41,mobile:801},"/반함/":{pc:42,mobile:402},"/멘붕/":{pc:43,mobile:204},"/버럭/":{pc:44,mobile:101},"/우엑/":{pc:45,mobile:1102},"/뽀뽀/":{pc:46,mobile:403},"/심각/":{pc:47,mobile:302},"/쥘쥘/":{pc:48,mobile:503},"/헤헤/":{pc:50,mobile:1401},"/훌쩍/":{pc:49,mobile:502},"/코피/":{pc:51,mobile:604},"/철컹철컹/":{pc:52,mobile:308},"/섬뜩/":{pc:53,mobile:301},"/꺄/":{pc:54,mobile:1301},"/굿/":{pc:55,mobile:1302},"/글썽/":{pc:56,mobile:501},"/황당/":{pc:57,mobile:201},"/정색/":{pc:58,mobile:202},"/피곤/":{pc:59,mobile:1501},"/사랑/":{pc:60,mobile:401},"/좌절/":{pc:61,mobile:506},"/사탕/":{pc:62,mobile:1910},"/RIP/":{pc:63,mobile:507},"/건빵/":{pc:64,mobile:1911},"/사과/":{pc:65,mobile:1912},"/귤/":{pc:93,mobile:1913},"/겁나좋군/":{pc:66,mobile:1408},"/근육녀/":{pc:101,mobile:808},"/근육남/":{pc:67,mobile:806},"/박수/":{pc:68,mobile:807},"/소주/":{pc:71,mobile:1903},"/짱/":{pc:72,mobile:1304},"/꽃/":{pc:73,mobile:1904},"/왕/":{pc:74,mobile:1601},"/썰렁/":{pc:75,mobile:205},"/무지개/":{pc:76,mobile:1902},"/태극기/":{pc:77,mobile:1801},"/절교/":{pc:78,mobile:104},"/하트/":{pc:79,mobile:405},"/불/":{pc:80,mobile:1905},"/별/":{pc:81,mobile:1906},"/폭탄/":{pc:82,mobile:306},"/폭죽/":{pc:83,mobile:1602},"/보석/":{pc:84,mobile:1605},"/금/":{pc:85,mobile:1603},"/돈/":{pc:86,mobile:1908},"/맥주/":{pc:87,mobile:1907},"/입술/":{pc:88,mobile:406},"/콜!/":{pc:89,mobile:805},"/번쩍/":{pc:90,mobile:1202},"/19/":{pc:91,mobile:1901},"/즐거워/":{pc:92,mobile:1406},"/케이크/":{pc:69,mobile:1604},"/약/":{pc:70,mobile:1909},"/SK/":{pc:"baseball/1",mobile:1802},"/두산/":{pc:"baseball/2",mobile:1803},"/LG/":{pc:"baseball/3",mobile:1804},"/롯데/":{pc:"baseball/4",mobile:1805},"/삼성/":{pc:"baseball/5",mobile:1806},"/한화/":{pc:"baseball/6",mobile:1807},"/기아/":{pc:"baseball/7",mobile:1808},"/키움/":{pc:"baseball/8",mobile:1809},"/NC/":{pc:"baseball/9",mobile:1810},"/KT/":{pc:"baseball/10",mobile:1811},"/SK마/":{pc:"baseball/11",mobile:1812},"/두산마/":{pc:"baseball/12",mobile:1813},"/LG마/":{pc:"baseball/13",mobile:1814},"/롯데마/":{pc:"baseball/14",mobile:1815},"/삼성마/":{pc:"baseball/15",mobile:1816},"/한화마/":{pc:"baseball/16",mobile:1817},"/기아마/":{pc:"baseball/17",mobile:1818},"/키움마/":{pc:"baseball/18",mobile:1819},"/NC마/":{pc:"baseball/19",mobile:1820},"/KT마/":{pc:"baseball/20",mobile:1821},"/메가폰/":{pc:"baseball/21",mobile:1822},"/신문/":{pc:"baseball/22",mobile:1823},"/봉투/":{pc:"baseball/23",mobile:1824},"/아프리카/":{pc:"lck/L1",mobile:"L1"},"/SKT/":{pc:"lck/L2",mobile:"L2"},"/DRX/":{pc:"lck/L4",mobile:"L4"},"/한화생명/":{pc:"lck/L5",mobile:"L5"},"/젠지/":{pc:"lck/L6",mobile:"L6"},"/케이티/":{pc:"lck/L8",mobile:"L8"},"/담원/":{pc:"lck/L9",mobile:"L9"},"/샌드박스/":{pc:"lck/L10",mobile:"L10"},"/설해원/":{pc:"lck/L11",mobile:"L11"},"/다이나믹스/":{pc:"lck/L12",mobile:"L12"}}),s={"/확인요/":{pc:"gudok/S101",mobile:"S101"},"/미션/":{pc:"gudok/S102",mobile:"S102"},"/ㅇㅋ/":{pc:"gudok/S103",mobile:"S103"},"/티키타카/":{pc:"gudok/S104",mobile:"S104"},"/ㄱㄴㅇ/":{pc:"gudok/S105",mobile:"S105"},"/동의/":{pc:"gudok/S106",mobile:"S106"},"/굿밤/":{pc:"gudok/S107",mobile:"S107"},"/맴찢/":{pc:"gudok/S108",mobile:"S108"},"/나이따/":{pc:"gudok/S109",mobile:"S109"},"/ㄱㄱ/":{pc:"gudok/S110",mobile:"S110"},"/조오치/":{pc:"gudok/S111",mobile:"S111"},"/ㄴㅇㅂㅈ/":{pc:"gudok/S112",mobile:"S112"},"/데헷/":{pc:"gudok/S113",mobile:"S113"},"/런/":{pc:"gudok/S114",mobile:"S114"},"/각/":{pc:"gudok/S115",mobile:"S115"},"/실화/":{pc:"gudok/S116",mobile:"S116"},"/ㅇㅈ/":{pc:"gudok/S117",mobile:"S117"},"/ㅇㄱㄹㅇ/":{pc:"gudok/S118",mobile:"S118"},"/반사/":{pc:"gudok/S119",mobile:"S119"},"/TMI/":{pc:"gudok/S120",mobile:"S120"},"/JMT/":{pc:"gudok/S121",mobile:"S121"},"/할많하않/":{pc:"gudok/S122",mobile:"S122"},"/현타/":{pc:"gudok/S123",mobile:"S123"},"/엄근진/":{pc:"gudok/S124",mobile:"S124"},"/머쓱/":{pc:"gudok/S125",mobile:"S125"},"/탈룰라/":{pc:"gudok/S126",mobile:"S126"},"/누나/":{pc:"gudok/S127",mobile:"S127"},"/탈주/":{pc:"gudok/S128",mobile:"S128"},"/손절/":{pc:"gudok/S129",mobile:"S129"},"/하락/":{pc:"gudok/S130",mobile:"S130"}},r=new RegExp("\\/("+l(o)+"|"+l(s)+")\\/","g"),c={pc:"http://res.afreecatv.com/images/chat/emoticon/small/",mobile:"http://res.afreecatv.com/images/chat/emoticon/54/"};function l(e){return Object.keys(e).map((function(e){return e.replace(/^\//,"").replace(/\/$/,"")})).join("|")}t["a"]={methods:{isAfreecatvOwner:function(e,t){if(e&&t){var a=new RegExp(/\([\s\S]*\)/g);return e.replace(a,"")===t.replace(a,"")}},handleAfreecatvChat:function(e,t){if(e.livePlatform===n["CHANNEL"].AFREECATV){"string"===typeof e.rawMessage&&(e.rawMessage=Object(i["a"])(e.rawMessage));var a=e.rawMessage.message;if(a)return e._isSelf=e.author.isChatOwner&&this.isAfreecatvOwner(t,a.id),e._isManager=e.author.isChatOwner&&!e._isSelf,e._badges=Object.values(a.badgeMap||{}),e._displayName="".concat(e.author.displayName,"(").concat(a.id,")"),e._message=e.message&&m(e.message),e;var o,s=e.rawMessage,r=Object.keys(s)[0],c=r&&s[r],l=this.$i18n.afreecaTV;switch(r){case"starBalloon":case"sticker":o=l[r].replace("%s",c.sendNickName).replace("%d",c.cnt);break;case"tempBanChat":o=l[r].replace("%s",c.banedId).replace("%d",c.count).replace("%t",c.count>1?"s":"");break;case"participant":o=l[r][c.enterState.toLocaleLowerCase()].replace("%s",c.nickName);break;case"cancelForcedWithdrawl":o=l[r].replace("%s",c.nickName);break;case"freezeOrMeltChat":o=c.isFreeze?l.freezeOrMeltChat:l.cancelFreezeOrMeltChat;break;default:console.error("Can not find the specified notice type: ",r);break}return o?(e._notice=o,e):void 0}}}};function u(e,t){var a="mobile",n=o[e]||s[e];if(n){var i=c[a]+n[a]+".png";return'<img class="afreecatv-emoticon" src="'.concat(i,'" alt="').concat(t,'"/>')}}function m(e){return e.replace(r,(function(e,t){return u(e,t)}))}},"5a82":function(e,t,a){var n={"./en.json":"e088","./kr.json":"a2a6"};function i(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id="5a82"},6838:function(e,t,a){},"7ea6":function(e,t,a){"use strict";a("a434");var n=a("2909"),i=a("53ca"),o=a("d4ec"),s=a("bee2"),r=a("ade3"),c=function(){function e(t,a){Object(o["a"])(this,e),Object(r["a"])(this,"options",{pollTime:5e3,minInterval:500,maxInterval:1e3,maxDelay:3e4,maxCountDuringInterval:3}),Object(r["a"])(this,"bufferPool",[]),Object(r["a"])(this,"timer",null),a&&"object"===Object(i["a"])(a)&&(this.options=Object.assign(this.options,a)),this.target=t,this.calcConstants()}return Object(s["a"])(e,[{key:"push",value:function(e){if(e){var t;if(Array.isArray(e))(t=this.bufferPool).push.apply(t,Object(n["a"])(e));else this.bufferPool.push(e);this.bufferPool.length&&this.setTimer()}}},{key:"pop",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(e=this.target).push.apply(e,Object(n["a"])(this.bufferPool.splice(0,t)))}},{key:"setTimer",value:function(){var e=this;this.clearTimer();var t=this.calcInterval(),a=t.interval,n=t.count,i=function t(){if(e.bufferPool.length)return e.pop(n),t;e.clearTimer()};this.timer=setInterval(i(),a)}},{key:"clearTimer",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"calcConstants",value:function(){var e=this.options,t=e.minInterval,a=e.pollTime,n=e.maxDelay,i=e.maxCountDuringInterval;this.maxTimesDuringPollTime=Math.floor(a/t),this.maxCountPerPollTime=this.maxTimesDuringPollTime*i,this.maxPollPerMaxDelay=Math.floor(n/a),this.maxCountPerMaxDelay=this.maxPollPerMaxDelay*this.maxCountPerPollTime,this.maxTimesDuringMaxDelay=this.maxPollPerMaxDelay*this.maxTimesDuringPollTime}},{key:"calcInterval",value:function(){var e=this.bufferPool.length;if(e){var t,a,n=this.options,i=n.maxInterval,o=n.minInterval,s=n.pollTime,r=n.maxCountDuringInterval;return e<=this.maxTimesDuringPollTime?(t=1,a=Math.min(Math.floor(s/e),i)):(a=o,t=e<=this.maxCountPerPollTime?Math.ceil(e/this.maxTimesDuringPollTime):e<=this.maxCountPerMaxDelay?r:Math.ceil(e/this.maxTimesDuringMaxDelay)),{interval:a,count:t}}}}]),e}();t["a"]=c},"993d":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"prism-chat-container"},[a("div",{staticClass:"chart-info-container"},[e.showChats?[e.chatData.length?[a("dynamic-scroller",{ref:"scroller",staticClass:"chat-info-scrollbar",attrs:{items:e.chatData,"min-item-size":e.itemHeight,"key-field":e.keyField,buffer:1e3},nativeOn:{"&scroll":function(t){return e.handleScroll(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item,i=(t.index,t.active);return[a("dynamic-scroller-item",{attrs:{item:n,active:i,"size-dependencies":[n[e.messageField]]}},[e._t("chat",null,{item:n})],2)]}}],null,!0)}),e.showScrollToButton?a("button",{staticClass:"scroll-to-bottom",on:{click:e.scrollToBottom}}):e._e()]:e._e()]:e.noLiveTips?a("div",{staticClass:"tips-no-video"},[a("i",{staticClass:"icon-chat"}),a("br"),a("span",{domProps:{innerHTML:e._s(e.noLiveTips)}}),a("br"),e.isAllChannel?a("div",{staticStyle:{display:"inline-block"},on:{click:e.addChannel}},[a("div",{staticClass:"icon-star-btn"},[a("div",{staticClass:"icon-star"}),a("span",{staticClass:"text"},[e._v(e._s(e.$i18n.addChatSource))])])]):e._e()]):e._e()],2),e.showInput?a("form",{staticClass:"chart-send-container",on:{submit:function(e){e.preventDefault()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"input",attrs:{type:"text",placeholder:e.$i18n.placeholder,disabled:e.disableInput},domProps:{value:e.message},on:{input:[function(t){t.target.composing||(e.message=t.target.value)},e.handleInput]}}),a("button",{staticClass:"icon-send",attrs:{disabled:e.disableSend},on:{click:e.handleSend}})]):e._e()])},i=[],o=(a("4160"),a("fb6a"),a("a9e3"),a("ac1f"),a("5319"),a("498a"),a("159b"),a("de36")),s=a("2f14"),r=a("eb9e"),c={name:"prismChatsWrapper",props:{chat:{type:Array,default:function(){return[]}},isAllChannel:{type:Boolean,default:!1},showChats:Boolean,noLiveTips:String,keyField:{type:String,default:"id"},timeField:{type:String,default:"publishedAt"},messageField:{type:String,default:"message"},showInput:{type:Boolean,default:!0},disableInput:{type:Boolean},maxInputCharacter:{type:Number,default:o["MAX_INPUT_CHARACTER"]}},data:function(){return{showScrollToButton:!1,needScrolllToButton:!1,inScrolling:!1,chatData:[],timer:null,message:"",isAlerting:!1,itemHeight:89,deviation:2,resizeTimer:0}},computed:{disableSend:function(){return this.disableInput||this.message.length>this.maxInputCharacter}},watch:{disableInput:function(e,t){e&&(this.message="")},chat:function(e){var t=this;Array.isArray(e)&&(this.chatData=e,!this.showScrollToButton&&e.length>o["MAX_CACHED_CHAT_COUNT"]&&this.$listeners["handle-cached-exceed"]&&this.$emit("handle-cached-exceed"),e.length&&(this.needScrolllToButton=!this.showScrollToButton,this.timer||this.startTimer(),this.needScrolllToButton&&setTimeout((function(){t.scrollToBottom()}))))},showChats:function(e){e||this.clearTimer()}},methods:{handlePrismEvents:function(e){var t=e.detail;console.log("events",t),t=Object(s["a"])(t);var a=t,n=a.type,i=a.data;switch(i=Object(s["a"])(i),n){case"init":this.showScrollToButton=!1,this.$emit("live-init",i);break;case"end":this.message="",this.$emit("live-end");break;case"token":this.$emit("token-refresh",i);break;case"chat":this.$emit("chat-receive",Object(s["a"])(i.message));break;case"platform_close":this.$emit("live-platform-close",i);break;case"broadcast":this.$emit("re-broadcast",i);break;case"permission":this.$emit("handle-permission",i);break;case"navertv_cookies":this.$emit("navertv-cookies",i);break;case"showtab":case"showTab":this.$emit("handle-show-tab",i);break}},handleSend:function(){if(!this.disableSend){var e=this.message;e.length&&(this.message="",e.trim().length&&(this.$emit("handle-send",e),this.scrollToBottom()))}},handleInput:function(e){var t=this;if(!this.isAlerting){var a=e.target.value,n=this.maxInputCharacter;if(a.length>n){var i=this.$i18n,o=i.notice,s=i.alert,r=s.text,c=s.confirmButton;this.isAlerting=!0,this.$alert({title:o,content:r.replace("${length}",n),confirmText:c}).then((function(){t.isAlerting=!1,t.message=a.slice(0,n)}))}}},handleResize:function(){var e=this;clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout((function(){var t=e.$refs.scroller&&e.$refs.scroller.$el;t&&(e.showScrollToButton=!e.needScrolllToButton&&t.scrollHeight-t.clientHeight-e.deviation>t.scrollTop)}),100)},handleScroll:function(e){var t=e.target;t&&(this.showScrollToButton=!this.needScrolllToButton&&t.scrollHeight-t.clientHeight-this.deviation>t.scrollTop,this.$listeners["handle-pull-up"]&&t.scrollTop<=0&&this.$emit("handle-pull-up"))},scrollToBottom:function(){var e=this;if(!this.inScrolling){var t=this.$refs.scroller&&this.$refs.scroller.$el;if(t){var a=t.scrollHeight-t.clientHeight;if(a-this.deviation<=t.scrollTop)this.needScrolllToButton=!1;else{var n=1e4,i=a-t.scrollTop;this.inScrolling=!0;var o=Math.max(i>1e3?i/1e3:i/100,10),s=function i(){a=t.scrollHeight-t.clientHeight,t.scrollTop<a-e.deviation?(t.scrollTop=Math.ceil(t.scrollTop+o),o=Math.min(n,1.1*o),requestAnimationFrame(i)):(t.scrollTop=a,e.inScrolling=!1,e.needScrolllToButton=!1)};s()}}else this.needScrolllToButton=!1}},handleTimeagoRender:function(){var e=this;this.chatData.forEach((function(t){t.timeago=Object(r["a"])(t[e.timeField],e.$lang)}))},startTimer:function(){var e=this;this.clearTimer(),this.timer=setInterval((function(){e.handleTimeagoRender()}),1e4)},clearTimer:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},addChannel:function(){window.sendToPrism(JSON.stringify({type:"addChannel",data:{}}))}},mounted:function(){window.addEventListener("resize",this.handleResize)},created:function(){window.addEventListener("prism_events",this.handlePrismEvents)},beforeDestroy:function(){window.removeEventListener("prism_events",this.handlePrismEvents),window.removeEventListener("resize",this.handleResize),this.clearTimer()}},l=c,u=(a("b468"),a("2877")),m=Object(u["a"])(l,n,i,!1,null,null,null);t["a"]=m.exports},"9b9a":function(e,t,a){},a2a6:function(e){e.exports=JSON.parse('{"noLive":"PRISM Live Studio 통합 채팅은<br>방송 시작 후 이용하실 수 있습니다.","noLiveNaver":"${platform} 채팅은<br>방송 시작 후 이용하실 수 있습니다.","noLiveFaceBook":"Facebook 채팅은<br>방송 시작 후 이용하실 수 있습니다.","noLiveYoutube":"YouTube 채팅은 비공개 송출 시에는 지원되지 않습니다.","youtubeReady":"YouTube 채팅은 방송 시작 후 이용하실 수 있습니다.","placeholder":"대화를 나눠 보세요","addChatSource":"PRISM 채팅 소스 추가","rtmp":"RTMP 연동 채널의 댓글은<br>각 플랫폼의 웹페이지에서 확인해주세요.","notice":"알림","alert":{"text":"최대 ${length}자까지 입력 가능합니다.","defaultText":"일시적인 오류가 발생했습니다.<br>잠시 후 다시 시도해주세요.","sensitiveText":"댓글에 부적절한 단어가 포함되어 있습니다.","confirmButton":"확인"},"confirm":{"deleteText":"선택하신 댓글을 삭제하시겠습니까?","reportText":"이 사용자를 신고하시겠습니까?","deleteConfirmButton":"삭제","cancelButton":"취소"},"tooltip":{"sendError":"재전송하거나 삭제할 수 있습니다","deleteText":"댓글을 삭제합니다","retry":"재시도"},"report":"신고","forbiddenAFREECATV":"afreecaTV의 채팅 정보를 조회할 수 없습니다. afreecaTV 페이지를 확인해주세요.","forbiddenFACEBOOK":"Facebook 채팅은 타임라인 전체공개 또는 페이지 송출일 때만 이용 가능합니다.","facebookNoSend":"Facebook 방송은 채팅 입력 기능이 지원되지 않습니다.","afreecaTV":{"tempBanChat":"%s님이 채팅금지 %d회가 되었습니다.","starBalloon":"%s님이 별풍선 %d개 선물!","sticker":"%s님이 스티커 %d개 선물!","participant":{"enter":"열혈팬 %s님이 대화방에 참여했습니다.","forced_leave":"%s님이 강제퇴장 되었습니다."},"cancelForcedWithdrawl":"%s님이 강제퇴장이 취소되었습니다.","freezeOrMeltChat":"채팅창을 얼렸습니다. BJ와 매니저만 채팅에 참여할 수 있습니다.","cancelFreezeOrMeltChat":"채팅창을 녹였습니다. 채팅에 참여하실 수 있습니다."}}')},a410:function(e,t,a){"use strict";var n=a("6838"),i=a.n(n);i.a},a514:function(e,t,a){"use strict";a.r(t);a("a899");var n,i=a("e508"),o=(a("b0c0"),a("d3b7"),a("2b0e")),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"pop-fade"}},[e.show?a("div",{staticClass:"prism-pop"},[a("div",{staticClass:"pop-box"},[a("div",{staticClass:"pop-header"},[a("span",{staticClass:"pop-header-title"},[e._v(e._s(e.title))]),a("btn-close",{staticClass:"pop-btn-close",on:{click:e.handleCancel}})],1),a("div",{staticClass:"pop-content"},[a("span",{domProps:{innerHTML:e._s(e.content)}})]),a("div",{staticClass:"pop-btns"},[a("button",{ref:"confirmBtn",staticClass:"pop-btn",on:{click:e.handleConfirm,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleKeydown(t)}}},[e._v(e._s(e.confirmText))]),"confirm"===e.type?a("button",{staticClass:"pop-btn",on:{click:e.handleCancel}},[e._v(e._s(e.cancelText))]):e._e()])])]):e._e()])},r=[],c=a("4d06"),l={name:"prismPop",components:{BtnClose:c["a"]},data:function(){return{activeElement:null,show:!1,title:"notice",content:"",cancelText:"cancel",confirmText:"confirm",type:"confirm"}},watch:{show:function(e){var t=this;e&&(this.activeElement=document.activeElement,document.body.classList.add("lock-scroll"),this.$nextTick((function(){var e=t.$el.getElementsByClassName("pop-btn");if(e&&e.length){var a=e[e.length-1];a.focus()}})))}},methods:{handleConfirm:function(){this.handleClose()},handleCancel:function(){this.handleClose()},handleClose:function(){this.show=!1,this.activeElement&&this.activeElement.focus(),setTimeout((function(){document.body.classList.remove("lock-scroll")}),200)},handleKeydown:function(e){e.preventDefault(),this.handleConfirm()}}},u=l,m=(a("a410"),a("2877")),p=Object(m["a"])(u,s,r,!1,null,null,null),h=p.exports,d=o["a"].extend(h),b=function(){n=new d({el:document.createElement("div")}),document.body.appendChild(n.$el)},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b(),g(n.$data,e),new Promise((function(t,a){n.show=!0;var i=n.handleConfirm,o=n.handleCancel;n.handleConfirm=function(){i(),t()},n.handleCancel=function(){o(),e.type&&"alert"===e.type?t():a()}}))};function g(e,t){if(t){for(var a in t)if(t.hasOwnProperty(a)){var n=t[a];void 0!==n&&(e[a]=n)}return e}}f.confirm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(g({type:"confirm"},e))},f.alert=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n&&n.show?new Promise((function(e,t){e()})):f(g({type:"alert"},e))};var v=f,T=function(e){e.component(v.name,v),e.prototype.$alert=v.alert,e.prototype.$confirm=v.confirm},C=T;t["default"]=function(e){e.component("DynamicScroller",i["a"]),e.component("DynamicScrollerItem",i["b"]),e.use(C)}},a706:function(e,t,a){},b468:function(e,t,a){"use strict";var n=a("f66b"),i=a.n(n);i.a},d9a4:function(e,t,a){},de36:function(e,t,a){"use strict";a.r(t),a.d(t,"CHANNEL",(function(){return n})),a.d(t,"CHANNEL_ON_ALL_PAGE",(function(){return i})),a.d(t,"CHAT_CAN_DELETED_PLATFORMS",(function(){return o})),a.d(t,"CHANNEL_NAME",(function(){return s})),a.d(t,"MAX_INPUT_CHARACTER",(function(){return r})),a.d(t,"MAX_INPUT_CHARACTER_NAVERTV",(function(){return c})),a.d(t,"MAX_INPUT_CHARACTER_VLIVE",(function(){return l})),a.d(t,"MAX_INPUT_CHARACTER_AFREECATV",(function(){return u})),a.d(t,"DEFAULT_LANG",(function(){return m})),a.d(t,"VLIVE_CHAT_IMAGE_BASE_URL",(function(){return p})),a.d(t,"VLIVE_CHAT_IMAGE_BASE_URL_PRO",(function(){return h})),a.d(t,"MAX_CACHED_CHAT_COUNT",(function(){return d})),a.d(t,"AFREECATV_EMOTICON_REGEX",(function(){return b}));a("4d63"),a("ac1f"),a("25f0");var n={TWITCH:"TWITCH",YOUTUBE:"YOUTUBE",FACEBOOK:"FACEBOOK",NAVERTV:"NAVERTV",VLIVE:"VLIVE",AFREECATV:"AFREECATV"},i=[n.YOUTUBE,n.NAVERTV,n.TWITCH,n.FACEBOOK,n.AFREECATV],o=[n.YOUTUBE,n.NAVERTV,n.VLIVE],s={NAVERTV:"NAVER TV",VLIVE:"V LIVE",AFREECATV:"afreecaTV",FACEBOOK:"Facebook"},r=65,c=65,l=60,u=128,m="kr",p="http://beta.v.phinf.naver.net/",h="https://v-phinf.pstatic.net/",d=2e3,b=new RegExp(/\/(샤방|윽|휘파람|짜증|헉|하이|개좋아|개도발|개털림|개감상|개화나|개이득|개번쩍|짱좋아|피식|헐|감상중|화나|하하|ㅠㅠ|주작|꿀잼|업|갑|묻|심쿵|스겜|추천|인정|사이다|더럽|극혐|매너챗|강퇴|드루와|아잉|기겁|우울|쳇|ㅋㅋ|졸려|최고|엉엉|후훗|부끄|제발|덜덜|좋아|반함|멘붕|버럭|우엑|뽀뽀|심각|쥘쥘|헤헤|훌쩍|코피|철컹철컹|섬뜩|꺄|굿|글썽|황당|정색|피곤|사랑|좌절|사탕|RIP|건빵|사과|귤|겁나좋군|근육녀|근육남|박수|소주|짱|꽃|왕|썰렁|무지개|태극기|절교|하트|불|별|폭탄|폭죽|보석|금|돈|맥주|입술|콜!|번쩍|19|즐거워|케이크|약|SK|두산|LG|롯데|삼성|한화|기아|키움|NC|KT|SK마|두산마|LG마|롯데마|삼성마|한화마|기아마|키움마|NC마|KT마|메가폰|신문|봉투|아프리카|SKT|DRX|한화생명|젠지|케이티|담원|샌드박스|설해원|다이나믹스|확인요|미션|ㅇㅋ|티키타카|ㄱㄴㅇ|동의|굿밤|맴찢|나이따|ㄱㄱ|조오치|ㄴㅇㅂㅈ|데헷|런|각|실화|ㅇㅈ|ㅇㄱㄹㅇ|반사|TMI|JMT|할많하않|현타|엄근진|머쓱|탈룰라|누나|탈주|손절|하락)\//g)},e088:function(e){e.exports=JSON.parse('{"noLive":"The integrated chatting service for PRISM Live Studio is available after the broadcast has started.","noLiveNaver":"You can start chatting in ${platform} after the broadcast has started.","noLiveFaceBook":"You can start chatting in Facebook after the broadcast has started.","noLiveYoutube":"YouTube chat is not supported for private broadcasts.","youtubeReady":"You can start chatting in YouTube after the broadcast has started.","placeholder":"Write a comment...","addChatSource":"Add PRISM Chat Source","rtmp":"Comments for RTMP-linked channels<br>can be checkedon the website of the respective platform.","notice":"Notice","alert":{"text":"Up to ${length} characters can be entered.","defaultText":"A temporary error has occurred.<br>Please try again.","sensitiveText":"Your comment contains sensitive words.","confirmButton":"OK"},"confirm":{"deleteText":"Delete the selected comment?","reportText":"Are you sure you want to report this user?","deleteConfirmButton":"Delete","cancelButton":"Cancel"},"tooltip":{"sendError":"You can retry or delete it.","deleteText":"Delete a comment.","retry":"Retry"},"report":"Report","forbiddenAFREECATV":"Failed to show chat info for afreecaTV. Check on afreecaTV.","forbiddenFACEBOOK":"Facebook Chat is available only when the page is streamed or the timeline is set to public.","facebookNoSend":"Chatting is not supported for Facebook streaming.","afreecaTV":{"tempBanChat":"%s has been banned from chatting %d time%t.","starBalloon":"%s %d star balloon gifts!","sticker":"%s %d sticker gifts!","participant":{"enter":"%s has joined the chat room.","forced_leave":"%s has been kicked out."},"cancelForcedWithdrawl":"Kick out has been canceled for %s.","freezeOrMeltChat":"The chat has been frozen. Only the BJ and the manager can participate in the chat.","cancelFreezeOrMeltChat":"The chat window has been unfrozen. You can participate in the chat."}}')},eb9e:function(e,t,a){"use strict";a("99af");var n=a("c72b"),i=["second","minute","hour","day","week","month","year"];Object(n["b"])("en",(function(e,t){if(0===t)return["just now","just now"];var a=i[Math.floor(t/2)];return e>1&&(a+="s"),["".concat(e," ").concat(a," ago"),"just now"]})),Object(n["b"])("kr",(function(e,t){return[["방금 전","방금 전"],["%s초 전","%s초 후"],["1분 전","1분 후"],["%s분 전","%s분 후"],["1시간 전","1시간 후"],["%s시간 전","%s시간 후"],["1일 전","1일 후"],["%s일 전","%s일 후"],["1주일 전","1주일 후"],["%s주일 전","%s주일 후"],["1개월 전","1개월 후"],["%s개월 전","%s개월 후"],["1년 전","1년 후"],["%s년 전","%s년 후"]][t]})),t["a"]=n["a"]},f66b:function(e,t,a){},f69e:function(e,t,a){"use strict";var n=a("9b9a"),i=a.n(n);i.a}}]);